v6: “role-switch failure adaptation”

This turns the first retest of a role-switch zone into a mini state machine, then changes how the zone behaves afterward:

CONFIRMED (F): first retest resolves ACCEPT/COMPRESS ≥ confirmConf → priority boost for next priorityBoostN touches.

WEAK (W): ACCEPT/COMPRESS but not strong enough → smaller boost (weakBoostN, weakBoostK).

TRAP (T): first retest resolves SWEEP ≥ failConf → for next trapTouchBoostN touches, priors are biased toward REJECT (snap-back expectation) and away from SLICE.

FAIL (!)

first retest resolves SLICE ≥ failConf → optionally retire the role-switch zone

optionally spawn a continuation role-switch at the far edge (keeps structure tracking when the “flip” didn’t stick).

REJECTED (J): first retest resolves REJECT ≥ failConf → marks it as “one-tap reaction, not a stable flip”.

That’s the core Terraline vibe: a level isn’t “a level” until it survives the retest, and if it fails, the story changes rather than you pretending nothing happened.
